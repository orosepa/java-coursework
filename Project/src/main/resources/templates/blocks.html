<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<!-- Fragment #1 : Headerfiles contains css and js references -->
<head th:fragment="headerfiles">
    <meta charset="UTF-8">
    <title>Экомаркет</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>

<!-- Fragment #2 : Navbar contains nav links -->
<div th:fragment="nav">
    <nav class="navbar navbar-expand-lg navbar-dark" style="background: #145720">
        <div class="container">
            <a class="navbar-brand" href="#">Экомаркет</a>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item"><a class="nav-link" href="#"
                                            th:href="@{/index}"><i class="fa fa-home mr-2"></i>Домашняя страница</a></li>
                    <li sec:authorize="hasRole('ROLE_ADMIN')" class="nav-item"><a
                            class="nav-link" href="#" th:href="@{/admin/index}">Администрирование</a></li>
                </ul>
                <ul class="nav my-auto mr-4">
                    <li class="nav-item"><a href="#" class="text-info" th:href="@{/profile/cart}"><i class="fas fa-shopping-cart"></i></a></li>
                </ul>
                <form class="form-inline my-2 my-lg-0" form-method="post"
                      th:action="@{/logout}">
                    <button sec:authorize="isAuthenticated()"
                            class="btn btn-outline-danger my-2 my-sm-0 btn-sm" type="submit" style="background: red; color: black">Выйти</button>
                    <button sec:authorize="isAnonymous()" th:href="@{~/login}"
                            class="btn btn-outline-info my-2 my-sm-0 btn-sm" type="submit" style="background: aquamarine; color: black; margin-right: 5%">Войти</button>
                </form>
                <form class="form-inline my-2 my-lg-0" form-method="post" th:action="@{~/signup}">
                    <button sec:authorize="isAnonymous()" th:href="@{~/signup}"
                            class="btn btn-outline-info my-2 my-sm-0 btn-sm" type="submit" style="background: #5c8d7c; color: black">Регистрация</button>
                </form>
                <form class="form-inline my-2 my-lg-0" form-method="post" th:action="@{~/account/cart}">
                    <button sec:authorize="hasRole('ROLE_USER')" th:href="@{~/account/cart}"
                            class="btn btn-outline-info my-2 my-sm-0 btn-sm" type="submit" style="background: #5c8d7c; color: black">Корзина</button>
                </form>
            </div>
        </div>
    </nav>
</div>
</body>
</html>
